{"version":3,"file":"static/js/268.cbe9fb13.chunk.js","mappings":"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","sources":["components/Dialog/index.js","components/Earth/htm2image.js","components/Earth/index.js","components/EventTable/fields.js","components/ListboxComponent/index.js","components/FilterPanel/index.js","components/FontsizeControl/index.js","containers/LayoutContainer/theme.js","containers/Page/Page.js","components/EventTable/DownloadOption.js","components/EventTable/index.js","containers/UndoRedo/index.js","components/PaperCustom/index.js","components/DetailCard/index.js","components/EventDetail/index.js","components/Map/index.js","components/EventMap/index.js","components/Search/index.js","components/ListenCard/index.js","components/MediaDetail/index.js","components/AppHeader/LanguageMenu.js","components/AppHeader/FontSizeMenu.js","components/AppHeader/LayoutMenu.js","components/AppHeader/index.js","pages/LandingPage/LandingPage.js","Providers/Query/index.js"],"sourcesContent":["import React from 'react'\r\nimport { useIntl } from 'react-intl'\r\nimport { useTheme } from '@mui/material/styles'\r\n\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle, IconButton,\r\n    Slide,\r\n    useMediaQuery,\r\n} from '@mui/material'\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nconst Transition = React.forwardRef((props, ref) => (\r\n    <Slide direction=\"up\" {...props} ref={ref} />\r\n))\r\n\r\nfunction BootstrapDialogTitle(props) {\r\n    const { children, onClose, ...other } = props;\r\n\r\n    return (\r\n        <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\r\n            {children}\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    onClick={onClose}\r\n                    sx={{\r\n                        position: 'absolute',\r\n                        right: 8,\r\n                        top: 8,\r\n                        color: (theme) => theme.palette.grey[500],\r\n                    }}\r\n                >\r\n                    <CloseIcon />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n}\r\n\r\nconst QuestionDialog = ({\r\n                            isProcessing = false,\r\n                            isOpen = false,\r\n                            id = '',\r\n                            message = '',\r\n                            title = '',\r\n                            action = '',\r\n                            haveButton=false,\r\n                            handleAction = () => {},\r\n                            handleClose = () => {},\r\n                            ...rest\r\n                        }) => {\r\n    const intl = useIntl()\r\n    const theme = useTheme()\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'))\r\n\r\n    return (\r\n        <Dialog\r\n            fullScreen={fullScreen}\r\n            open={isOpen}\r\n            onClose={handleClose}\r\n            TransitionComponent={Transition}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n            {...rest}\r\n        >\r\n            {/*<DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>*/}\r\n            <BootstrapDialogTitle id=\"alert-dialog-title\" onClose={handleClose}>\r\n                {title}\r\n            </BootstrapDialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    {message}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            {haveButton&&<DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    {intl.formatMessage({id: 'cancel', defaultMessage: 'Cancel'})}\r\n                </Button>\r\n                <Button\r\n                    disabled={isProcessing}\r\n                    onClick={() => {\r\n                        handleAction(handleClose)\r\n                    }}\r\n                    color=\"secondary\"\r\n                >\r\n                    {action}\r\n                </Button>\r\n            </DialogActions>}\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nexport default QuestionDialog","import canvasToImage from 'canvas-to-image';\r\nimport {select} from 'd3';\r\n\r\nconst exportAsImage = async (el, imageFileName) => {\r\n    // htmlToImage.toPng(el,{ cacheBust: true, })\r\n    //     .then(function (dataUrl) {\r\n    //         debugger\r\n    //         downloadImage(dataUrl, imageFileName);\r\n    //     });\r\n    // htmlToImage.toPng(select(el).select('canvas').node())\r\n    //     .then(function (dataUrl) {\r\n    //         var img = new Image();\r\n    //         img.crossOrigin = \"Anonymous\";\r\n    //         img.src = dataUrl;\r\n    //         document.body.appendChild(img);\r\n    //     })\r\n    //     .catch(function (error) {\r\n    //         console.error('oops, something went wrong!', error);\r\n    //     });\r\n    const renderer = el.renderer();\r\n    const scene = el.scene();\r\n    const camera = el.camera();\r\n    renderer.render(scene,camera);\r\n    const blob = renderer.domElement.toDataURL();\r\n    downloadImage(blob, imageFileName)\r\n    // const canvas = select(el).select('canvas').node();\r\n    // var context = canvas.getContext(\"experimental-webgl\", {preserveDrawingBuffer: true});\r\n    // const capturedImage = videocanvas.toDataURL();\r\n    // canvasToImage(canvas, {\r\n    //     name: 'myImage',\r\n    //     type: 'jpg',\r\n    //     quality: 0.7\r\n    // });\r\n};\r\n\r\nconst downloadImage = (blob, fileName) => {\r\n    const fakeLink = window.document.createElement(\"a\");\r\n    fakeLink.style = \"display:none;\";\r\n    fakeLink.download = fileName;\r\n\r\n    fakeLink.href = blob;\r\n\r\n    document.body.appendChild(fakeLink);\r\n    fakeLink.click();\r\n    document.body.removeChild(fakeLink);\r\n\r\n    fakeLink.remove();\r\n};\r\nexport default exportAsImage;\r\n","import React, {useState, useEffect, useRef, useCallback, useMemo, useLayoutEffect, forwardRef} from 'react';\r\nimport earthNight from '../../assets/earth-night.jpg'\r\nimport earthDay from '../../assets/earth-blue-marble.jpg'\r\nimport Globe from 'react-globe.gl'\r\nimport * as d3 from 'd3'\r\nimport './index.css'\r\nimport {Button, ButtonGroup, Card, CardContent, IconButton, Portal, Stack, Typography} from \"@mui/material\";\r\nimport {semicolor} from \"../../containers/LayoutContainer/theme\";\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport exportAsImage from \"./htm2image\";\r\nimport RemoveIcon from '@mui/icons-material/Remove';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport {alpha} from \"@mui/material/styles\";\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\n\r\nexport const TOP = 20;\r\nexport const colorArr = ['#1f77b4', '#aec7e8', '#ff7f0e', '#ffbb78', '#2ca02c', '#98df8a', '#d62728', '#ff9896', '#9467bd', '#c5b0d5', '#8c564b', '#c49c94', '#e377c2', '#f7b6d2', '#7f7f7f', '#c7c7c7', '#bcbd22', '#dbdb8d', '#17becf', '#9edae5'];\r\n\r\nconst arcThickScale = d3.scaleLinear().range([0.01,0.7]);\r\nconst labelScale = d3.scaleLinear().range([0.3,0.4]);\r\nconst countriesScale = d3.scaleLinear().range([0.1,1]);\r\n\r\n\r\n\r\n\r\nconst Earth3D = forwardRef(({locs,countries,width,height,onSelect,onSelectLegend, zoomLoc, toolbarRef} , ref) => {\r\n    const globeEl = useRef();\r\n    const holderRef = useRef();\r\n    const [colorKey, setColorKey] = useState('country');\r\n    const [selectPoint, setSelectPoint] = useState();\r\n    const [currentSequnce,setCurrentSequnce] = useState(0);\r\n    const [MAP_CENTERs,setMAP_CENTERs] = useState([{ lat: -92.52824601944323, lng: 38.31079101844495, altitude: 1.8 },{ lat: 51.58421865, lng: 45.9571029, altitude: 1.8 },{ lat: 31.3037101, lng: -89.29276214, altitude: 1.8 },{ lat: 33.5842591, lng: -101.8804709, altitude: 1.8 }]);\r\n    const [ringData,setRingData] = useState([]);\r\n    const [contriesMap,setcontriesMap] = useState({});\r\n    const theme = useTheme();\r\n    const colorsCategory = useMemo(()=>{\r\n        return function(otherColor=\"#ececec\"){\r\n            const scale = d3.scaleOrdinal(colorArr);\r\n            let master = (val)=>{\r\n                if ((!val)||(val==='')||(val.trim===''))\r\n                    return 'black'\r\n                const domain = scale.domain();\r\n                if (domain.find(d=>d===val)|| (domain.length<TOP))\r\n                    return scale(val);\r\n                else\r\n                    return otherColor\r\n            };\r\n            master.domain = scale.domain;\r\n            master.range = scale.range;\r\n            return master;\r\n        }();\r\n    },[]);\r\n\r\n    function handleData({locs,countries}) {\r\n        const contriesMap = {};\r\n        const range = d3.extent(locs, d => d?.count);\r\n        \r\n        arcThickScale.domain(range);\r\n        labelScale.domain(range);\r\n\r\n        countriesScale.domain(d3.extent(countries, d => {\r\n            contriesMap[d.title] = d;\r\n            return d?.count\r\n        }));\r\n\r\n        //color\r\n        colorsCategory.domain([]).range(colorArr);\r\n        countries.forEach(d=>colorsCategory(d.title));\r\n\r\n        let order = 0;\r\n        if (countries.length>3)\r\n        [0,1,2,3,0].forEach(i=> {\r\n            if (!MAP_CENTERs[order])\r\n                MAP_CENTERs[order] = {lat:0,lng:0,altitude:1}\r\n            MAP_CENTERs[order].lat = countries[i].lat;\r\n            MAP_CENTERs[order].lng = countries[i].long;\r\n            order++\r\n        });\r\n\r\n        \r\n        return {MAP_CENTERs,contriesMap};\r\n    }\r\n    useEffect(() => {\r\n        const {MAP_CENTERs,contriesMap} = handleData({locs,countries})\r\n        setcontriesMap(contriesMap)\r\n        setMAP_CENTERs(MAP_CENTERs);\r\n        if (!zoomLoc)\r\n            setCurrentSequnce(0);\r\n    }, [locs,countries]);\r\n\r\n    const [timer,setTimer] = useState(null);\r\n    useEffect(()=>{\r\n        if (globeEl.current) {\r\n            if (currentSequnce < MAP_CENTERs.length) {\r\n\r\n                const interval = setTimeout(() => {\r\n                    globeEl.current.pointOfView(MAP_CENTERs[currentSequnce], 4000)\r\n                    setCurrentSequnce(currentSequnce + 1);\r\n                }, 4000);\r\n                setTimer(interval);\r\n                return () => {\r\n                    clearInterval(interval);\r\n                };\r\n            }\r\n        }\r\n    },[currentSequnce,MAP_CENTERs])\r\n    const stopPlay = useCallback(()=>{\r\n        if (timer)\r\n            clearInterval(timer);\r\n        setCurrentSequnce(MAP_CENTERs.length);\r\n    },[timer]);\r\n\r\n    const [timerRing,setTimerRing] = useState(null);\r\n    const zoomTo = useCallback((lng,lat)=>{\r\n        if (globeEl.current) {\r\n            stopPlay();\r\n            globeEl.current.pointOfView({ lat, lng, altitude: 1.2 }, 2000);\r\n            setRingData([{lng,lat}]);\r\n            if (timerRing)\r\n                clearInterval(timerRing);\r\n            let interval = setTimeout(() => {\r\n                setRingData([])\r\n            }, 10000);\r\n            setTimerRing(interval);\r\n        }\r\n    },[currentSequnce,stopPlay,timerRing])\r\n    useEffect(()=>{\r\n        if (zoomLoc)\r\n            zoomTo(zoomLoc.lng,zoomLoc.lat);\r\n        return () => {\r\n            if (timerRing)\r\n                clearInterval(timerRing);\r\n        };\r\n    },[zoomLoc])\r\n\r\n    const onSaveImage = useCallback(() => {\r\n        exportAsImage(globeEl.current,'MIRAGE-mc');\r\n    },[holderRef,globeEl]);\r\n\r\n    useEffect(()=>{\r\n        onSelectLegend('selectCountry',(d)=>{\r\n            onSelect({country:[d['title']]});\r\n            zoomTo(d.long,d.lat);\r\n        })\r\n    },[zoomTo,onSelect])\r\n\r\n    const zoomIn = useCallback(()=>{\r\n        if (globeEl.current) {\r\n            const loc = {...globeEl.current.pointOfView()}\r\n            loc.altitude = loc.altitude/2\r\n            globeEl.current.pointOfView(loc,2000)\r\n        }\r\n    },[globeEl])\r\n    const zoomOut = useCallback(()=>{\r\n        if (globeEl.current) {\r\n            const loc = {...globeEl.current.pointOfView()}\r\n            loc.altitude = loc.altitude*2\r\n            globeEl.current.pointOfView(loc,2000)\r\n        }\r\n    },[globeEl])\r\n\r\n    return  <div\r\n        style={{\r\n            background: \"#ffffff\",\r\n            position: \"relative\"\r\n        }}\r\n    >\r\n        <div ref={holderRef}\r\n             style={{\r\n            // transform: \"translate(0, -20vh)\",\r\n            //      marginTop:'-20vh',\r\n            // height: '120vh'\r\n\r\n        }}>\r\n            <Globe\r\n                width={width}\r\n                // height={height*1.2}\r\n                height={height}\r\n                ref={globeEl}\r\n                globeImageUrl={(theme.palette.mode==='dark')?earthNight:earthDay}\r\n                backgroundColor={(theme.palette.mode==='dark')?'black':'#7ec7f6'}\r\n                showAtmosphere={true}\r\n                ringsData={ringData}\r\n                ringColor={()=>'#D39F49'}\r\n                ringResolution={1000}\r\n                ringMaxRadius={5}\r\n                ringPropagationSpeed={5}\r\n                ringRepeatPeriod={500}\r\n\r\n                labelsData={countries}\r\n                labelLat={useCallback(d => d.lat,[])}\r\n                labelLng={useCallback(d => d.long,[])}\r\n                labelAltitude={useCallback(d=>(selectPoint&&(selectPoint['country']===d['title']))?0.05:0.02,[selectPoint])}\r\n                labelText={useCallback(d => d['title'],[])}\r\n                // labelSize={d => (selectPoint&&(selectPoint===d))?0.8:arcThickScale(d?.count)/3}\r\n                labelSize={useCallback(d => (selectPoint&&(selectPoint['country']===d['title']))?1:labelScale(d?.count),[selectPoint])}\r\n                // labelSize={useCallback(d => labelScale(arcThickScale(d?.count)),[])}\r\n                labelDotRadius={0}\r\n                // labelColor={useCallback(d => (selectPoint&&(selectPoint['country']===d['title']))?('#dd6700'):(d.color??'white'),[selectPoint])}\r\n                labelColor={useCallback(d => (d.color??'white'),[selectPoint])}\r\n                labelResolution={2}\r\n\r\n                hexBinPointsData={locs}\r\n                hexBinPointWeight=\"count\"\r\n                hexBinPointLng={useCallback(d => d.long,[])}\r\n                hexBinPointLat={useCallback(d => d.lat,[])}\r\n                hexAltitude={useCallback(d => arcThickScale(d.sumWeight),[])}\r\n                hexBinResolution={4}\r\n                hexTopColor={useCallback(d => colorsCategory(d.points[0][colorKey]),[])}\r\n                hexSideColor={useCallback(d => colorsCategory(d.points[0][colorKey]),[])}\r\n                hexBinMerge={false}\r\n                onHexHover ={useCallback((hex)=>{if (hex){\r\n                    setSelectPoint(hex.points[0])\r\n                }else\r\n                    setSelectPoint(undefined);\r\n                },[])}\r\n                hexLabel={useCallback(d => {return `<div class=\"overlay-holder\">\r\n            <div class=\"overlay-header\">\r\n                <span><b>${d3.sum(d.points,s=>s?.count)}</b> stations</span>\r\n            </div>\r\n            <div class=\"overlay-content\">\r\n            <table>\r\n                <tbody><tr>${d.points.slice().sort((a, b) => b?.count - a?.count).map(d => `<td>[${d?.count}]</td><td>${d.title}</td>`).join('</tr><tr>')}</tr></tbody>\r\n            </table>\r\n            </div>\r\n          </div>`},[])}\r\n                onHexClick={(d)=>{\r\n                    const city = [];\r\n                    d.points.forEach(d => {\r\n                        debugger\r\n                        city.push(d.city)\r\n                    })\r\n                    onSelect({city,country:[d.points[0]?.country]});\r\n                }\r\n                }\r\n                onGlobeClick={stopPlay}\r\n            />\r\n        </div>\r\n        {/*{toolbarRef&&<Portal container={toolbarRef.current}>*/}\r\n        {/*    <IconButton onClick={onSaveImage}><SaveIcon/></IconButton>*/}\r\n        {/*</Portal>}*/}\r\n        <ButtonGroup\r\n            orientation=\"vertical\"\r\n            aria-label=\"map tool\"\r\n            variant={\"contained\"}\r\n            sx={{position:'absolute',right:0,top:0,margin:1,\r\n                // backgroundColor: theme=>alpha(theme.palette.common.white, 0.15),\r\n                '& button':{\r\n                    padding:1,\r\n                    // '&:hover': {\r\n                    //     backgroundColor: theme=>alpha(theme.palette.common.white, 0.25),\r\n                    // }\r\n            }}}\r\n        >\r\n\r\n            <Button onClick={onSaveImage}><SaveIcon/></Button>\r\n            <Button onClick={zoomIn}><AddIcon/></Button>\r\n            <Button onClick={zoomOut}><RemoveIcon/></Button>\r\n        </ButtonGroup>\r\n    </div>;\r\n})\r\n\r\nexport default Earth3D;\r\n","import moment from \"moment/moment\";\r\nimport {Checkbox} from \"@mui/material\";\r\nimport EventOutIcon from '@mui/icons-material/ShoppingCartCheckout';\r\nimport EventIcon from '@mui/icons-material/ShoppingCart';\r\nexport const fields = [\r\n    {\r\n        id: 'inBasket',\r\n        header: 'Selected',\r\n        accessorKey: 'inBasket',\r\n        // size: 50,\r\n        Cell: ({ renderedCellValue, row }) => (\r\n            <Checkbox\r\n                disabled\r\n                icon={<EventOutIcon />}\r\n                checkedIcon={<EventIcon color={'secondary'}/>}\r\n                checked={row.original.inBasket}\r\n            />\r\n        ),\r\n    },\r\n    {\r\n        accessorKey: 'city',\r\n        header: 'City',\r\n    },\r\n    {\r\n        accessorKey: 'country',\r\n        header: 'Country',\r\n    },\r\n    {\r\n        accessorKey: 'station',\r\n        header: 'Station',\r\n    },\r\n    {\r\n        accessorKey: 'station_genre',\r\n        header: 'Station Genre',\r\n    },\r\n    {\r\n        accessorKey: 'stream_artist',\r\n        header: 'Artist',\r\n        dynamic:true,\r\n    },\r\n    {\r\n        accessorKey: 'stream_song',\r\n        header: 'Song',\r\n        dynamic:true,\r\n    }\r\n    // ,\r\n    // {\r\n    //     accessorKey: 'time_station',\r\n    //     header: 'Time',\r\n    //     type:'time',\r\n    //     filterDisable:true,\r\n    //     accessorFn:(d)=>d.time_station?moment(d.time_station).format('LLL'):''\r\n    // }\r\n];\r\nexport const fieldsWithoutSelected = fields.filter((d,i)=>i);\r\nexport const filterSearch = fields.filter(f=>!f.filterDisable);","import React, {useRef} from \"react\";\r\nimport { ViewportList } from 'react-viewport-list';\r\n\r\nconst ListboxComponent = React.forwardRef(function ListboxComponent(\r\n    props,\r\n    ref\r\n) {\r\n    const { children, role, ...other } = props;\r\n    const Row = ({props,type:Type}) => {\r\n        return <Type {...props} key={props.id}/>\r\n    }\r\n    const itemCount = Array.isArray(children) ? children.length : 0;\r\n    const viewboxRef = useRef(null)\r\n    return (\r\n        <div ref={ref} role={role} >\r\n            <div {...other} ref={viewboxRef}>\r\n                    <ViewportList\r\n                        viewportRef={viewboxRef}\r\n                        items={children}\r\n                        count={itemCount}\r\n                    >\r\n                        {Row}\r\n                    </ViewportList>\r\n                {/*<List*/}\r\n                {/*    height={250}*/}\r\n                {/*    width={300}*/}\r\n                {/*    rowHeight={itemSize}*/}\r\n                {/*    overscanCount={5}*/}\r\n                {/*    rowCount={itemCount}*/}\r\n                {/*    rowRenderer={props => {*/}\r\n                {/*        return React.cloneElement(children[props.index], {*/}\r\n                {/*            style: props.style*/}\r\n                {/*        });*/}\r\n                {/*    }}*/}\r\n                {/*    role={role}*/}\r\n                {/*/>*/}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default ListboxComponent;","import React, {useEffect, useMemo, useState} from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n    setFilter,\r\n    setFilters,\r\n    selectFilters\r\n} from \"../../reducer/streamfilters\";\r\nimport { ActionCreators } from \"redux-undo\";\r\nimport {Autocomplete, createFilterOptions, Stack, TextField} from \"@mui/material\";\r\nimport {filterSearch} from \"../EventTable/fields\";\r\nimport {useDatabase} from \"../../Providers/Database\";\r\nimport ListboxComponent from \"../ListboxComponent\";\r\n\r\nconst OPTIONS_LIMIT = 50;\r\nconst defaultFilterOptions = createFilterOptions();\r\n\r\nconst filterOptionsFunc = (options, state) => {\r\n    return defaultFilterOptions(options, state).slice(0, OPTIONS_LIMIT);\r\n};\r\n\r\n\r\nexport default function FilterPanel() {\r\n    const filters = useSelector(selectFilters);\r\n    const dispatch = useDispatch();\r\n    const [filterOptions,setFilterOptions] = useState({});\r\n    const {isLoading,searchByStream,getList} = useDatabase();\r\n\r\n\r\n    // useEffect(()=>{\r\n    //     if (!Object.keys(filters).length) {\r\n    //         // const newfilters = {};\r\n    //         // filterSearch.forEach(f=>{\r\n    //         //     newfilters[f.accessorKey] = null;\r\n    //         // })\r\n    //         // dispatch(setFilters({value: newfilters}));\r\n    //         ActionCreators.clearHistory();\r\n    //     }\r\n    // },[]);\r\n    const fields = getList('fields');\r\n\r\n    useEffect(()=>{\r\n        setFilterOptions({...fields});\r\n    },[fields])\r\n\r\n    return <Stack spacing={2} padding={2}>\r\n        {filterSearch.map(f=><CusAutocomplete\r\n            key={f.accessorKey}\r\n            multiple\r\n            size=\"small\"\r\n            limitTags={2}\r\n            filterOptions={filterOptionsFunc}\r\n            ListboxComponent={ListboxComponent}\r\n            freeSolo\r\n            options={(f.dynamic?getList(`search-${f.accessorKey}`):filterOptions[f.accessorKey])??[]}\r\n            loading={f.dynamic?isLoading(`search-${f.accessorKey}`):false}\r\n            getOptionLabel={(d) => d}\r\n            value={filters[f.accessorKey]??[]}\r\n            onChange={(event, value) => {\r\n                dispatch(setFilter({key:f.accessorKey,value}));\r\n            }}\r\n            onInputChange={f.dynamic?((event, newInputValue) => {\r\n                if (newInputValue&&newInputValue!=='')\r\n                    searchByStream(f.accessorKey,newInputValue);\r\n            }):undefined}\r\n            renderInput={(params) => (\r\n                <TextField\r\n                    {...params}\r\n                    label={f.header}\r\n                />\r\n            )}\r\n        />)}\r\n        {/*<TimeRangePicker*/}\r\n        {/*    fromVal={(filters[\"time_station\"]?.from)??null}*/}\r\n        {/*    toVal={(filters[\"time_station\"]?.to)??null}*/}\r\n        {/*    onChange={(key,value) => {*/}\r\n        {/*        const val = {...(filters[\"time_station\"] ?? {})};*/}\r\n        {/*        if (value)*/}\r\n        {/*            val[key] = value;*/}\r\n        {/*        else*/}\r\n        {/*            delete val[key];*/}\r\n        {/*        dispatch(setFilter({key:\"time_station\",value:val}));*/}\r\n        {/*    }}*/}\r\n        {/*/>*/}\r\n    </Stack>\r\n}\r\n\r\nfunction CusAutocomplete ({onInputChange=()=>{},...props}) {\r\n    const [input, setInput] = React.useState('');\r\n    return <Autocomplete\r\n        inputValue={input}\r\n        onInputChange={(event,newValue,reason)=> {\r\n            setInput(newValue);\r\n            onInputChange(event,newValue,reason)\r\n        }}\r\n        onBlur={()=>{setInput('')}}\r\n        {...props}\r\n    />\r\n}","import {ButtonGroup, Button, Stack} from \"@mui/material\";\r\nimport {Add as AddIcon, Remove as RemoveIcon} from '@mui/icons-material';\r\n\r\nexport default function FontsizeControl({title,onChange}) {\r\n    return<Stack direction={\"row\"} alignItems={'center'} justifyContent={'space-between'}>\r\n        {title}\r\n        <ButtonGroup size=\"small\" variant=\"outlined\" aria-label=\"outlined button group\"  sx={{color:\"unset\"}}>\r\n        <Button  sx={{color:\"unset\"}} onClick={()=>onChange(true)}>\r\n            <AddIcon/>\r\n        </Button>\r\n        <Button  sx={{color:\"unset\"}} onClick={()=>onChange(false)}>\r\n            <RemoveIcon/>\r\n        </Button>\r\n    </ButtonGroup>\r\n    </Stack>\r\n}","import { createTheme } from '@mui/material/styles'\r\nimport {color as d3color} from \"d3\";\r\n\r\nconst getThemeSource = (id, ts, isDarkMode, isRTL, fontSize) => {\r\n    if (ts) {\r\n        for (let i = 0; i < ts.length; i++) {\r\n            if (ts[i]['id'] === id) {\r\n                const _source = ts[i]['source']\r\n                const source = _source != null ?(_source instanceof Function ?_source(isDarkMode ? 'dark' : 'light',fontSize):_source):_source;\r\n                const palette = source != null ? source.palette : {}\r\n                return createTheme({\r\n                    ...source,\r\n                    palette: { ...palette, mode: isDarkMode ? 'dark' : 'light' },\r\n                    direction: isRTL ? 'rtl' : 'ltr',\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    return createTheme({\r\n        palette: { mode: isDarkMode ? 'dark' : 'light' },\r\n        direction: isRTL ? 'rtl' : 'ltr',\r\n    })\r\n}\r\n\r\nexport default getThemeSource;\r\n\r\nexport function semicolor(_color){\r\n    const color = d3color(_color);\r\n    color.opacity = 0.5\r\n    return color.toString();\r\n}","import React, { useContext } from 'react'\r\nimport { useTheme as useAppTheme } from 'material-ui-shell/lib/providers/Theme'\r\nimport MenuContext from 'material-ui-shell/lib/providers/Menu/Context'\r\nimport { useTheme } from '@mui/material/styles'\r\nimport { useConfig } from 'base-shell/lib/providers/Config'\r\nimport { useOnline } from 'base-shell/lib/providers/Online'\r\n\r\nimport { useIntl } from 'react-intl'\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    IconButton,\r\n    LinearProgress,\r\n    Typography, Menu, MenuItem, Box,\r\n} from '@mui/material'\r\nimport { ChevronLeft, Menu as MenuIcon } from '@mui/icons-material'\r\n\r\nexport default function ({\r\n                             children,\r\n                             pageTitle,\r\n                             appBarLeftContent = null,\r\n                             onBackClick,\r\n                             isLoading,\r\n                             appBarContent = null,\r\n                             contentStyle,\r\n                             tabs = null,\r\n                         }) {\r\n    const { isRTL } = useAppTheme()\r\n    const isOnline = useOnline()\r\n    const theme = useTheme()\r\n    const { appConfig } = useConfig()\r\n    const { menu } = appConfig || {}\r\n    const { width = 240, appBarLeadingContent = null } = menu || {}\r\n\r\n    const intl = useIntl()\r\n    let headerTitle = ''\r\n\r\n    if (typeof pageTitle === 'string' || pageTitle instanceof String) {\r\n        headerTitle = pageTitle\r\n    }\r\n\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                width: '100%',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                height: '100vh',\r\n                overflow: 'hidden',\r\n            }}\r\n        >\r\n            <AppBar\r\n                position={'absolute'}\r\n                sx={{\r\n                    width: undefined,\r\n                    zIndex: theme.zIndex['drawer'],\r\n                    transition: theme.transitions.create(['width', 'margin'], {\r\n                        easing: theme.transitions.easing.sharp,\r\n                        duration: theme.transitions.duration.leavingScreen,\r\n                    }),\r\n                    maxHeight: 64,\r\n                    marginLeft: isRTL ? 0 : -12,\r\n                    marginRight: isRTL ? 30 : 0,\r\n                    backgroundColor:'transparent',\r\n                    backgroundImage:'none',\r\n                    boxShadow:'none'\r\n                }}\r\n            >\r\n                <Toolbar sx={{\r\n                    backgroundColor: (t) =>\r\n                        t.palette.mode === 'dark'\r\n                            ? t.palette.background.default\r\n                            : t.palette.primary.dark,\r\n                    margin: 0,\r\n                    padding: 0,\r\n                }}>\r\n                    {onBackClick && (\r\n                        <IconButton\r\n                            color=\"inherit\"\r\n                            aria-label=\"open drawer\"\r\n                            onClick={onBackClick}\r\n                        >\r\n                            <ChevronLeft />\r\n                        </IconButton>\r\n                    )}\r\n                    {appBarLeadingContent}\r\n                    {appBarLeftContent}\r\n                    <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                        {headerTitle}\r\n                    </Typography>\r\n                    <div style={{ flex: '1 1 auto' }} />\r\n                    {appBarContent}\r\n                </Toolbar>\r\n\r\n            </AppBar>\r\n            <div\r\n                style={{\r\n                    alignItems: 'center',\r\n                    justifyContent: 'flex-end',\r\n                    //...theme.mixins.toolbar,\r\n                    minHeight: 64, //height of AppBar\r\n                }}\r\n            />\r\n\r\n            {isLoading && <LinearProgress />}\r\n            {!isOnline && (\r\n                <div\r\n                    style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        width: '100%',\r\n                        height: 15,\r\n                        backgroundColor: theme.palette.secondary.main,\r\n                    }}\r\n                >\r\n                    <Typography variant=\"caption\" color=\"textSecondary\" noWrap>\r\n                        {intl.formatMessage({\r\n                            id: 'offline',\r\n                            defaultMessage: 'Offline',\r\n                        })}\r\n                    </Typography>\r\n                </div>\r\n            )}\r\n            {tabs}\r\n            <div style={{ flex: 1, overflow: 'auto', ...contentStyle }}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import SaveIcon from \"@mui/icons-material/Save\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport {Button, Menu, MenuItem} from \"@mui/material\";\r\nimport React from \"react\";\r\n\r\nexport default function({onDownloadSearchList=()=>{},onDownloadSelectedList=()=>{}}){\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return <><Button\r\n        color=\"primary\"\r\n        target={\"_blank\"}\r\n        size={\"small\"}\r\n        //export all data that is currently in the table (ignore pagination, sorting, filtering, etc.)\r\n        // onClick={handleExportData}\r\n        startIcon={<SaveIcon/>}\r\n        variant=\"contained\"\r\n        onClick={handleClick}\r\n        endIcon={<KeyboardArrowDownIcon />}\r\n    >\r\n        Download\r\n    </Button>\r\n        <Menu anchorEl={anchorEl}\r\n              open={open}\r\n              onClose={handleClose}>\r\n            <MenuItem onClick={()=>{onDownloadSearchList();handleClose();}}>Data from Search list</MenuItem>\r\n            <MenuItem onClick={()=>{onDownloadSelectedList();handleClose();}}>Data from Selected list</MenuItem>\r\n            <MenuItem onClick={handleClose} href={process.env.REACT_APP_DATA_DOWNLOAD}>MIRAGE-MetaCorpus Song List</MenuItem>\r\n            <MenuItem onClick={handleClose} disabled>MIRAGE-MetaCorpus Station List</MenuItem>\r\n        </Menu>\r\n        </>\r\n}","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport {MaterialReactTable,MRT_ToolbarAlertBanner} from 'material-react-table';\r\nimport Scrollbar from \"material-ui-shell/lib/components/Scrollbar\";\r\nimport {fields} from \"./fields\";\r\nimport {Box, Button, IconButton, Toolbar, Tooltip} from \"@mui/material\";\r\nimport AddEventIcon from '@mui/icons-material/AddShoppingCart';\r\nimport RemoveEventIcon from '@mui/icons-material/RemoveShoppingCart';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport { ExportToCsv } from 'export-to-csv';\r\nimport {useDatabase} from \"../../Providers/Database\";\r\nimport DownloadOption from \"./DownloadOption\";\r\n\r\n\r\n\r\nconst EventTable = ({id='tableevent',columns,data,totalData,selectedData,disableAdding,\r\n                        isLoadingData,onSelectRow,highlightId,onSendToList,onRemoveFromList}) => {\r\n    const [rowSelection, setRowSelection] = useState({});\r\n\r\n    //optionally access the underlying virtualizer instance\r\n    const rowVirtualizerInstanceRef = useRef(null);\r\n\r\n    // const [data, setData] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [sorting, setSorting] = useState([]);\r\n    const {getDownloadData} = useDatabase();\r\n\r\n    useEffect(() => {\r\n        //scroll to the top of the table when the sorting changes\r\n        try {\r\n            rowVirtualizerInstanceRef.current?.scrollToIndex?.(0);\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }, [sorting]);\r\n\r\n    useEffect(()=>{\r\n        setRowSelection({})\r\n    },[data])\r\n    const handleExportRows = (rows) => {\r\n        setIsLoading(true)\r\n        getDownloadData(rows).then((datadownload)=>{\r\n            const csvOptions = {\r\n                fieldSeparator: ',',\r\n                quoteStrings: '\"',\r\n                decimalSeparator: '.',\r\n                showLabels: true,\r\n                filename: `mirage-mc-${new Date().toDateString()}`,\r\n                useBom: true,\r\n                useKeysAsHeaders: true,\r\n                // headers: fields.map((c) => c.accessorKey),\r\n            };\r\n            const csvExporter = new ExportToCsv(csvOptions);\r\n            csvExporter.generateCsv(datadownload);\r\n            setIsLoading(false)\r\n        }).catch(e=>{\r\n            setIsLoading(false)\r\n        })\r\n    };\r\n    const handleExportRowsFromTable = (rows) => {\r\n        setIsLoading(true)\r\n        getDownloadData(rows.map((row) => row.original)).then((datadownload)=>{\r\n            const csvOptions = {\r\n                fieldSeparator: ',',\r\n                quoteStrings: '\"',\r\n                decimalSeparator: '.',\r\n                showLabels: true,\r\n                filename: `mirage-mc-${new Date().toDateString()}`,\r\n                useBom: true,\r\n                useKeysAsHeaders: true,\r\n                // headers: fields.map((c) => c.accessorKey),\r\n            };\r\n            const csvExporter = new ExportToCsv(csvOptions);\r\n            csvExporter.generateCsv(datadownload);\r\n            setIsLoading(false)\r\n        }).catch(e=>{\r\n            setIsLoading(false)\r\n        })\r\n    };\r\n    const handleExportData = () => {\r\n        setIsLoading(true)\r\n        // csvExporter.generateCsv(data);\r\n        const datadownload = getDownloadData();\r\n        const csvOptions = {\r\n            fieldSeparator: ',',\r\n            quoteStrings: '\"',\r\n            decimalSeparator: '.',\r\n            showLabels: true,\r\n            filename: 'mirage-mc-all',\r\n            useBom: true,\r\n            useKeysAsHeaders: true,\r\n            // headers: fields.map((c) => c.accessorKey),\r\n        };\r\n        const csvExporter = new ExportToCsv(csvOptions);\r\n        csvExporter.generateCsv(datadownload);\r\n        setIsLoading(false)\r\n    };\r\n    // console.log(data)\r\n    return (\r\n        <MaterialReactTable\r\n            key={id}\r\n            id={id}\r\n            columns={columns}\r\n            data={data} //10,000 rows\r\n            // enableBottomToolbar={!!Object.keys(rowSelection).length}\r\n            enableGlobalFilterModes\r\n            enableDensityToggle={false}\r\n            enablePagination={false}\r\n            enableRowSelection\r\n            // enableRowNumbers\r\n            enableRowVirtualization\r\n            muiTablePaperProps={{sx:{display:'flex', flexDirection:\"column\", height:'100%'}}}\r\n            // muiTableContainerProps={{ sx: { height:'100%', flexGrow:2 } }}\r\n            initialState={{ density: 'compact' }}\r\n            onSortingChange={setSorting}\r\n            onRowSelectionChange={setRowSelection}\r\n            state={{ isLoading:isLoadingData||isLoading, sorting, rowSelection }}\r\n            rowVirtualizerInstanceRef={rowVirtualizerInstanceRef} //optional\r\n            rowVirtualizerProps={{ overscan: 2 }} //optionally customize the virtualizer\r\n            muiTableBodyRowProps={({ row }) => ({\r\n                onClick: ()=>{onSelectRow(row.original)},\r\n                // sx: { cursor: 'pointer',opacity:highlightId?(highlightId.stream_detail_id=== row.original.stream_detail_id?1:0.7):1},\r\n                sx: { cursor: 'pointer',opacity:highlightId?(highlightId._id=== row.original._id?1:0.7):1},\r\n            })}\r\n            enableColumnResizing\r\n            enableFullScreenToggle={false}\r\n            defaultColumn={{\r\n                minSize: 20, //allow columns to get smaller than default\r\n                maxSize: 9001, //allow columns to get larger than default\r\n                size: 100, //make columns wider by default\r\n            }}\r\n            positionToolbarAlertBanner={\"bottom\"}\r\n            renderTopToolbarCustomActions={({ table }) => {\r\n                return (\r\n                    <Box\r\n                        sx={{display: 'flex', gap: '1rem', p: '0.5rem', flexWrap: 'no-wrap'}}\r\n                    >\r\n                        <DownloadOption\r\n                            // onDownloadSearchList={()=>handleExportRows(table.getPrePaginationRowModel().rows)}\r\n                            onDownloadSearchList={()=>handleExportRows(totalData)}\r\n                            onDownloadSelectedList={()=>handleExportRows(selectedData)}\r\n                        />\r\n                    </Box>\r\n                )\r\n            }}\r\n            renderBottomToolbar={({table})=> {\r\n                const handleSelected = onSendToList?() => {\r\n                    onSendToList(table.getSelectedRowModel().flatRows.map(d=>d.original))\r\n                }:()=>{};\r\n                const handleRemoveSelected = onRemoveFromList?() => {\r\n                    onRemoveFromList(table.getSelectedRowModel().flatRows.map(d=>d.original))\r\n                }:()=>{};\r\n                return (<Toolbar\r\n                    sx={{\r\n                        display: Object.keys(rowSelection).length ? 'flex' : 'none',\r\n                    }}\r\n                >\r\n                    <Box sx={{flexGrow: 2}}>\r\n                        <MRT_ToolbarAlertBanner\r\n                            stackAlertBanner\r\n                            table={table}\r\n                        />\r\n                    </Box>\r\n                    {(onSendToList&&(!disableAdding)) && <Tooltip title={\"Add to Selected list\"}><IconButton\r\n                        // color=\"info\"\r\n                        // disabled={!table.getIsSomeRowsSelected()}\r\n                        onClick={handleSelected}\r\n                        variant=\"contained\"\r\n                    >\r\n                        <AddEventIcon/>\r\n                    </IconButton>\r\n                    </Tooltip>}\r\n                    {(onRemoveFromList) && <Tooltip title={\"Remove from Selected list\"}><IconButton\r\n                        // color=\"info\"\r\n                        // disabled={!table.getIsSomeRowsSelected()}\r\n                        onClick={handleRemoveSelected}\r\n                        variant=\"contained\"\r\n                    >\r\n                        <RemoveEventIcon/>\r\n                    </IconButton>\r\n                    </Tooltip>}\r\n                </Toolbar>)\r\n            }}\r\n        />\r\n    );\r\n};\r\n\r\n//virtualizerInstanceRef was renamed to rowVirtualizerInstanceRef in v1.5.0\r\n//virtualizerProps was renamed to rowVirtualizerProps in v1.5.0\r\n\r\nexport default EventTable;","import React from 'react'\r\nimport {ActionCreators as UndoActionCreators} from 'redux-undo'\r\nimport { connect } from 'react-redux'\r\nimport {IconButton} from \"@mui/material\";\r\nimport UndoIcon from \"@mui/icons-material/Undo\";\r\nimport RedoIcon from \"@mui/icons-material/Redo\";\r\n\r\nlet UndoRedo = ({ canUndo, canRedo, onUndo, onRedo }) => (\r\n    <>\r\n        <IconButton onClick={onUndo} disabled={!canUndo}><UndoIcon/></IconButton>\r\n        <IconButton onClick={onRedo} disabled={!canRedo}><RedoIcon/></IconButton>\r\n    </>\r\n)\r\n\r\nconst mapStateToProps = (state) => ({\r\n    canUndo: state.streamFilters.past.length > 0,\r\n    canRedo: state.streamFilters.future.length > 0\r\n})\r\n\r\nconst mapDispatchToProps = ({\r\n    onUndo: UndoActionCreators.undo,\r\n    onRedo: UndoActionCreators.redo\r\n})\r\n\r\nUndoRedo = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(UndoRedo)\r\n\r\nexport default UndoRedo\r\n","import {styled} from \"@mui/material/styles\";\r\nimport {Paper} from \"@mui/material\";\r\n\r\nconst PaperCustom = styled(Paper)(({ theme }) => ({\r\n    padding: theme.spacing(1),\r\n    borderRadius:10,\r\n    transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n    }),\r\n}));\r\n\r\nexport default PaperCustom;","import {\r\n    Avatar,\r\n    Box,\r\n    Button,\r\n    Card,\r\n    CardActions,\r\n    CardContent, Chip,\r\n    Collapse,\r\n    Divider, Grid,\r\n    IconButton,\r\n    Link, Paper, Stack,\r\n    Typography\r\n} from \"@mui/material\";\r\nimport moment from \"moment/moment\";\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { useSpring, animated, easings  } from '@react-spring/web'\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {useState, useRef, useEffect} from \"react\";\r\nimport \"./index.css\"\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\nimport PaperCustom from \"../PaperCustom\";\r\n\r\nconst ExpandMore = styled((props) => {\r\n    const { expand, ...other } = props;\r\n    return <ExpandMoreIcon {...other} />;\r\n})(({ theme, expand }) => ({\r\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n    }),\r\n}));\r\n\r\nfunction DetailCard ({data,onSelect}){\r\n    const timeStation = moment(data.time_station).format('LLL');\r\n    const stream_name = data.stream_name??'N/A';\r\n    return <Stack spacing={1}>\r\n        <PaperCustom>\r\n            <Typography component=\"div\" variant=\"h2\" onClick={()=>onSelect({station:[data.station]},data)}>\r\n                {data.station} <Typography component={\"span\"} variant={\"subtitle1\"}>{data.broadcast_frequency??'0.0'} FM</Typography>\r\n            </Typography>\r\n            <Typography component=\"div\" variant=\"subtitle1\" color=\"text.secondary\">\r\n                {data.station_description}\r\n            </Typography>\r\n            <table style={{width:'100%'}}>\r\n                <colgroup><col style={{width:130}}/><col/></colgroup>\r\n                <tr><td>Station URL</td><td><Link href={data.station_url} target={'_blank'} color={'secondary'}>{data.station_url}</Link></td></tr>\r\n                <tr><td>Location</td><td><Link target={'_blank'} color={'secondary'} href={`https://maps.google.com/?q=${data.lat},${data.long}`}><MapIcon/>{data.city}, {data.country}</Link></td></tr>\r\n                <tr><td>Radio Garden URL</td><td><Link href={data.url} target={'_blank'} color={'secondary'}>{data.url}</Link></td></tr>\r\n            </table>\r\n        </PaperCustom>\r\n\r\n        <PaperCustom>\r\n            <table style={{width:'100%'}}>\r\n                <colgroup><col style={{width:130}}/><col/></colgroup>\r\n                <tr><td>Stream name</td><td>{stream_name}</td></tr>\r\n                <tr><td>Stream URL</td><td><Link href={data.stream_url} target={'_blank'} color={'secondary'}>{data.stream_url}</Link></td></tr>\r\n                <tr><td>Description</td><td>{data.stream_description}</td></tr>\r\n                <tr><td>Genre</td><td>{data.stream_genre && <Stack direction={'row'} spacing={1} flexWrap sx={{width:'100%', flexWrap:'wrap'}}>\r\n                    <Chip label={data.stream_genre} size={'small'}/></Stack>}</td></tr>\r\n            </table>\r\n        </PaperCustom>\r\n        <PaperCustom elevation={3}>\r\n        <Grid container spacing={1}>\r\n            <Grid item xs={12}>\r\n                <Typography color=\"text.secondary\" gutterBottom> {timeStation}</Typography>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n                <Typography variant=\"h4\" component=\"div\"\r\n                            onClick={data.stream_song ? () => onSelect({stream_song: [data.stream_song]}) : null}>\r\n                    {data.stream_song}\r\n                </Typography>\r\n                {data.year_released && <Typography color=\"text.secondary\" gutterBottom> {data.year_released}</Typography>}\r\n                {data.stream_song_genre && <Chip label={data.stream_song_genre} size={'small'}/>}\r\n            </Grid>\r\n            <Grid item >\r\n                <Box sx={{flex: '1 0 auto', display: 'flex'}}>\r\n                    <Avatar aria-label=\"recipe\"\r\n                            src={data.stream_artist_image_url}\r\n                            sx={{mr: 1}}>{data.stream_artist[0]}</Avatar>\r\n                    <div>\r\n                        <Typography variant=\"h5\" color={'text.primary'}>{data.stream_artist}</Typography>\r\n                        <Typography variant=\"subtitle2\">from {data.stream_artist_country ?? \"N/A\"}</Typography>\r\n                    </div>\r\n                </Box>\r\n                {data.stream_artist_genre && (data.stream_artist_genre.map(t => <Chip key={t} label={t} size={'small'}/>))}\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n                {data.stream_instrument_list && (\r\n                    <Stack direction={'row'} spacing={1} flexWrap sx={{width: '100%', flexWrap: 'wrap'}}>\r\n                        <Typography>Instruments: </Typography>\r\n                        {data.stream_instrument_list.split(';').map(t => <Chip\r\n                            key={t} label={t} size={'small'}/>)}\r\n                    </Stack>)}\r\n            </Grid>\r\n            {data.stream_lyrics && <Grid item xs={12}>\r\n                <Grid container>\r\n                    <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>\r\n                    <Typography variant={\"h5\"} component={'div'} sx={{margin: 'auto'}}>\r\n                        Lyrics {data.stream_lyrics_language ? `(${data.stream_lyrics_language})` : \"\"}\r\n                    </Typography>\r\n                    <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>\r\n                </Grid>\r\n                {data.stream_lyrics}\r\n            </Grid>}\r\n        </Grid>\r\n        </PaperCustom>\r\n    </Stack>\r\n}\r\nexport default DetailCard\r\n\r\nfunction CollapsibleComp ({header,banner,defaultValue,...props}) {\r\n    const [open,setopen] = useState(defaultValue);\r\n    const runningText = useSpring({\r\n        reset: open,\r\n        cancel: open,\r\n        config:{ duration: 20000},\r\n        loop:!open,\r\n        from: { transform: \"translateX(100%)\" },\r\n        to: { transform: \"translateX(-100%)\" },\r\n    });\r\n    return <Card elevation={10} sx={{mt:1}}>\r\n        <CardActions disableSpacing>\r\n            <Typography variant={\"h5\"}>{header}</Typography>\r\n            {(banner&&!open)&&<div style={{width:'100%', overflow:'hidden', marginLeft: 10, marginRight: 10, whiteSpace: 'nowrap'}}>\r\n                <Typography variant={\"subtitle2\"}>\r\n                    <animated.div style={runningText} className={'textbanner'}>{banner}</animated.div>\r\n                    {/*<div className={'textbanner'}>{banner} | {banner}</div>*/}\r\n                </Typography></div>}\r\n            <ExpandMore expand={open} onClick={()=>setopen(!open)}/>\r\n        </CardActions>\r\n        <Collapse in={open} unmountOnExit={true} {...props}/>\r\n    </Card>\r\n}\r\n","import {\r\n    Card,\r\n    CardContent,\r\n    Unstable_Grid2 as Grid\r\n} from \"@mui/material\";\r\nimport {semicolor} from \"../../containers/LayoutContainer/theme\";\r\nimport DetailCard from \"../DetailCard\";\r\n\r\nexport default function ({currentDetail,onSelect,sx={}}) {\r\n\r\n    return (<>\r\n        {/*<Card sx={{...sx,width:'100%', backgroundColor: (theme) => semicolor(theme.palette.background.paper)}}>*/}\r\n        {/*    <CardContent sx={{height: '100%', position: 'relative'}}>*/}\r\n\r\n                <Grid container style={{height:'100%', width:'100%',padding:10,overflow:'auto'}}\r\n                      m={0} flexDirection={\"column\"} flexWrap={'nowrap'}\r\n                      sx={{bgcolor:theme=>theme.palette.background.paper, color: theme=> theme.palette.primary.contrastText}}>\r\n                    {currentDetail ?\r\n                        <DetailCard data={currentDetail} onSelect={onSelect}/> : <>Select from Event\r\n                            List</>}\r\n                </Grid>\r\n            {/*</CardContent>*/}\r\n        {/*</Card>*/}\r\n    </>\r\n    )\r\n}","import Plot from 'react-plotly.js';\r\nimport {useTheme} from \"@mui/material/styles\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {color as d3color, extent, scaleLinear, range as d3range,interpolateNumber} from 'd3';\r\nimport './index.css';\r\n\r\nconst countriesScale = scaleLinear().range([5,20]);\r\nconst zoomi = scaleLinear().domain([\r\n    0.0007, 0.0014, 0.003, 0.006, 0.012, 0.024, 0.048, 0.096,\r\n    0.192, 0.3712, 0.768, 1.536, 3.072, 6.144, 11.8784, 23.7568,\r\n    47.5136, 98.304, 190.0544, 360.0\r\n]).range(d3range(0,20).map(d=>20-d))\r\nexport default function  Map ({locs,height,width,highlight}) {\r\n    const theme = useTheme();\r\n    let [data,setData] = useState([]);\r\n    let [domain,setDomain] = useState({center: {lon: 0, lat: 0},zoom:1});\r\n    useEffect(()=>{\r\n        try {\r\n            if (locs.length) {\r\n                // const botColor = d3color(theme.palette.text.primary);\r\n                // botColor.opacity = highlight?0.5:1;\r\n                const _botColor = theme.palette.primary.main;\r\n                countriesScale.domain(extent(locs, d => d?.count));\r\n                let lon = [];\r\n                let lat = [];\r\n                let size = [];\r\n                let text = [];\r\n                // let color=[];\r\n                locs.forEach(d => {\r\n                    lon.push(d.long)\r\n                    lat.push(d.lat)\r\n                    size.push(countriesScale(d?.count))\r\n                    text.push(`${d['title']} (${d?.count})`);\r\n                    // color.push((highlight&&(highlight.country===d['title']))? 'red':_botColor);\r\n                });\r\n                // console.log(highlight,color)\r\n                let ticks = countriesScale.ticks(2);\r\n                let tsize = ticks.map(t => countriesScale(t));\r\n                let tickS = ticks.map((t, i) => ({\r\n                    mapbox: 'mapboxTick',\r\n                    type: 'scattermapbox',\r\n                    name: `${t}`,\r\n                    lon: [0],\r\n                    lat: [0],\r\n                    x: [0],\r\n                    y: [0],\r\n                    marker: {\r\n                        color: _botColor,\r\n                        size: tsize[i]\r\n                    },\r\n                    visible: 'legendonly',\r\n                }))\r\n                let data = [{\r\n                    type: 'scattermapbox',\r\n                    lon,\r\n                    lat,\r\n                    hoverinfo: 'text',\r\n                    text,\r\n                    showlegend: false,\r\n                    marker: {\r\n                        size,\r\n                        color: _botColor,\r\n\r\n                        line: {\r\n                            color: 'black'\r\n                        }\r\n                    },\r\n                    name: \"stream\"\r\n                }, ...tickS\r\n                ];\r\n                const longd = extent(locs, d => d?.long) // [-180,180]\r\n                const latd = extent(locs, d => d?.lat)// [-90,90]\r\n                const center = {lon: (longd[1] + longd[0]) / 2, lat: (latd[1] + latd[0]) / 2};\r\n                const magrin = 1.2\r\n                const zoom = Math.min(10, Math.min(zoomi((longd[1] - longd[0]) * magrin * 2), zoomi((latd[1] - latd[0]) * magrin)) / 1.5);\r\n\r\n                setDomain({zoom, center})\r\n                if (highlight) {\r\n                    const _highlight = locs.find(d => d['city_id'] === highlight.city_id);\r\n                    if (_highlight) {\r\n                        data.push({\r\n                            type: 'scattermapbox',\r\n                            // locationmode: 'world',\r\n                            lon: [_highlight.long],\r\n                            lat: [_highlight.lat],\r\n                            hoverinfo: 'text',\r\n                            text: [`${_highlight['title']} (${_highlight?.count})`],\r\n                            showlegend: true,\r\n                            marker: {\r\n                                size: [countriesScale(_highlight.count)],\r\n                                color: 'red',\r\n                                line: {\r\n                                    color: 'black'\r\n                                }\r\n                            },\r\n                            name: _highlight['title']\r\n                        })\r\n                    }\r\n                }\r\n                setData(data);\r\n            }else\r\n                setData([])\r\n        }catch(e){\r\n\r\n        }\r\n    },[locs,highlight])\r\n// console.log(domain.center,domain.zoom)\r\n    let layout = {\r\n        paper_bgcolor: theme.palette.background.paper,\r\n        plot_bgcolor:'rgba(0,0,0,0)',//theme.palette.background.paper,\r\n        autoscale: false,\r\n        height:height,\r\n        width:width,\r\n        margin:{t:10,r:10,l:10,b:10},\r\n        mapboxTick: {\r\n            style: \"whitebg\",\r\n        },\r\n        mapbox: {\r\n            style: \"carto-positron\",\r\n            center:domain.center,\r\n            zoom:domain.zoom,\r\n        },\r\n        font: {\r\n            family: theme.typography.fontFamily,\r\n            size: theme.typography.fontSize,\r\n            color: theme.palette.text.primary\r\n        },\r\n        legend: {\r\n            title: {text: '#Streams'},\r\n            showticksuffix: 'last',\r\n            x: 1,\r\n            xanchor: 'right',\r\n            y: 0,\r\n            orientation: 'h'\r\n        }\r\n    };\r\n    return (\r\n        <Plot\r\n            data={data}\r\n            layout={ layout }\r\n            config = {{'displaylogo': false,\r\n                'toImageButtonOptions': {\r\n                'format': 'svg',//one of png, svg, jpeg, webp 'svg'\r\n                'filename': 'Station_Map',\r\n                'height': 1080,\r\n                'width': 1920,\r\n                'scale': 1// # Multiply title/legend/axis/canvas sizes by this factor\r\n                },\r\n                showEditInChartStudio: true,\r\n                plotlyServerURL: \"https://chart-studio.plotly.com\",\r\n                '#Station':false\r\n        }}\r\n        />\r\n    );\r\n}","import Map from \"../Map\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\nimport {useState, useEffect} from \"react\";\r\nimport {groups} from \"d3\";\r\n\r\nexport default function ({currentDetail,locs, events}) {\r\n    const [eventlocs, setEventlocs] = useState([]);\r\n    useEffect(()=>{\r\n        try{\r\n            const _locsMap = {};\r\n            locs.forEach(d=>_locsMap[d['city_id']]=d);\r\n            const _locs = groups(events,d=>d['city_id']).map(([c,cou])=>({\r\n                title:_locsMap[c]?.title,\r\n                city_id:c,\r\n                count: cou.length,\r\n                lat: _locsMap[c]?.lat,\r\n                long: _locsMap[c]?.long,\r\n            }))\r\n            setEventlocs(_locs)\r\n        }catch(e){\r\n\r\n        }\r\n    },[locs,events])\r\n    return <AutoSizer style={{ height: '100%', width: '100%' }} >\r\n        {({ height, width }) => {\r\n            return <Map height={height} width={width}\r\n                        locs={eventlocs} highlight={currentDetail}/>\r\n        }}\r\n    </AutoSizer>\r\n}","import {Box, Button, Typography} from \"@mui/material\";\r\nimport { styled, alpha } from '@mui/material/styles';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport InputBase from \"@mui/material/InputBase\";\r\nimport Dialog from \"../Dialog\";\r\nimport {useState} from \"react\";\r\nimport FilterPanel from \"../FilterPanel\";\r\n\r\n\r\nexport default function () {\r\n    const [isOpen,setIsOpen] = useState();\r\n    return <><Button\r\n        size={\"small\"}\r\n        sx={theme=>({ position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n            borderColor: alpha(theme.palette.common.white, 0.5),\r\n            borderStyle:'solid',\r\n        backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n            textTransform:'none',\r\n        '&:hover': {\r\n            backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n        },\r\n        width: '100%',\r\n            paddingLeft:theme.spacing(1),\r\n            paddingRight:theme.spacing(1),\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        }})}\r\n        startIcon={<SearchIcon/>}\r\n        variant={\"contained\"}\r\n        onClick={()=>setIsOpen(true)}\r\n    >\r\n        <Typography variant={\"span\"}>Search...</Typography>\r\n        {/*<SearchIconWrapper>*/}\r\n        {/*    <SearchIcon />*/}\r\n        {/*</SearchIconWrapper>*/}\r\n        {/*<StyledInputBase*/}\r\n        {/*    placeholder=\"Search…\"*/}\r\n        {/*    inputProps={{ 'aria-label': 'search' }}*/}\r\n        {/*/>*/}\r\n    </Button>\r\n        <Dialog isOpen={isOpen} id={\"searchFilter\"}\r\n                title={\"Search\"}\r\n                message={<FilterPanel/>}\r\n                handleClose={()=>setIsOpen(false)}\r\n                fullWidth={true}\r\n                maxWidth={\"sm\"}\r\n                scroll={\"paper\"}\r\n        >\r\n\r\n        </Dialog>\r\n        </>\r\n}","import {\r\n    Avatar,\r\n    Box,\r\n    Button,\r\n    Card,\r\n    CardActions,\r\n    CardContent, Chip,\r\n    Collapse,\r\n    Divider, Grid,\r\n    IconButton,\r\n    Link, Stack,\r\n    Typography\r\n} from \"@mui/material\";\r\nimport moment from \"moment/moment\";\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport {useSpring, animated, easings} from '@react-spring/web'\r\nimport {styled} from \"@mui/material/styles\";\r\nimport {useState, useRef, useEffect} from \"react\";\r\nimport \"./index.css\"\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\nimport PaperCustom from \"../PaperCustom\";\r\n\r\nconst ExpandMore = styled((props) => {\r\n    const {expand, ...other} = props;\r\n    return <ExpandMoreIcon {...other} />;\r\n})(({theme, expand}) => ({\r\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n    }),\r\n}));\r\n\r\nfunction DetailCard({data, onSelect}) {\r\n    return <Stack spacing={1}>\r\n        <PaperCustom>\r\n            <Grid container spacing={1}>\r\n        <Grid item xs={6}>\r\n            <Typography variant=\"h4\" component=\"div\"\r\n                        onClick={data.stream_song ? () => onSelect({stream_song: [data.stream_song]}) : null}>\r\n                {data.stream_song}\r\n            </Typography>\r\n            {data.year_released && <Typography color=\"text.secondary\" gutterBottom> {data.year_released}</Typography>}\r\n            {data.stream_song_genre && <Chip label={data.stream_song_genre} size={'small'}/>}\r\n        </Grid>\r\n        <Grid item>\r\n            <Box sx={{flex: '1 0 auto', display: 'flex'}}>\r\n                <Avatar aria-label=\"recipe\"\r\n                        src={data.stream_artist_image_url}\r\n                        sx={{mr: 1}}>{data.stream_artist[0]}</Avatar>\r\n                <div>\r\n                    <Typography variant=\"h5\" color={'text.primary'}>{data.stream_artist}</Typography>\r\n                    <Typography variant=\"subtitle2\">from {data.stream_artist_country ?? \"N/A\"}</Typography>\r\n                </div>\r\n            </Box>\r\n            {data.stream_artist_genre && (data.stream_artist_genre.map(t => <Chip key={t} label={t} size={'small'}/>))}\r\n        </Grid>\r\n            </Grid>\r\n        </PaperCustom>\r\n        <PaperCustom>\r\n        {(data.spotify_uri || data.youtube_url) && <Grid item xs={12}>\r\n            <Grid container>\r\n                <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>\r\n                <Typography variant={\"h5\"} component={'div'} sx={{margin: 'auto'}}>Music Platform</Typography>\r\n                <Divider sx={{mt: 2, mb: 2, flexGrow: 1}}/>\r\n            </Grid>\r\n            {data.spotify_uri && <Grid item xs={12}>\r\n                <iframe loading=\"lazy\"\r\n                        src={data.spotify_uri.replace('com/track', 'com/embed/track')}\r\n                        width={'100%'} height=\"80\" frameBorder=\"0\"\r\n                        data-mce-fragment=\"1\"></iframe>\r\n            </Grid>}\r\n            {data.youtube_url && <Grid item xs={12}>\r\n                <iframe width={'100%'} height={'auto'}\r\n                        loading=\"lazy\"\r\n                        src={data.youtube_url.replace(\"youtube.com/watch?v=\", \"youtube-nocookie.com/embed/\")}\r\n                        title=\"YouTube video player\" frameBorder=\"0\"\r\n                        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n                        allowFullScreen\r\n                />\r\n            </Grid>}\r\n        </Grid>}\r\n        </PaperCustom>\r\n    </Stack>\r\n\r\n\r\n}\r\n\r\nexport default DetailCard","import {\r\n    Unstable_Grid2 as Grid\r\n} from \"@mui/material\";\r\nimport ListenCard from \"../ListenCard\";\r\n\r\nexport default function ({currentDetail,onSelect,sx={}}) {\r\n\r\n    return (<>\r\n            <Grid container style={{height:'100%', width:'100%',padding:10,overflow:'auto'}}\r\n                  m={0} flexDirection={\"column\"} flexWrap={'nowrap'}\r\n                  sx={{bgcolor:theme=>theme.palette.background.paper, color: theme=> theme.palette.primary.contrastText}}>\r\n                {currentDetail ?\r\n                    <ListenCard data={currentDetail} onSelect={onSelect}/> : <>Select from Event\r\n                        List</>}\r\n            </Grid>\r\n        </>\r\n    )\r\n}","import {IconButton, Menu, MenuItem} from \"@mui/material\";\r\nimport {Language as LanguageIcon} from \"@mui/icons-material\";\r\nimport allLocales from \"../../config/locales\";\r\nimport {useState} from \"react\";\r\nimport {useLocale} from \"base-shell/lib/providers/Locale\";\r\n\r\nexport default function ({intl}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const { setLocale, locale = 'en' } = useLocale();\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return <><IconButton\r\n        title={intl.formatMessage({ id: 'language' })}\r\n        onClick={handleClick}\r\n    >\r\n        <LanguageIcon/> <span style={{fontSize:'small',paddingLeft:5,textTransform:\"uppercase\"}}>{locale}</span>\r\n    </IconButton>\r\n    <Menu\r\n        id=\"language-menu\"\r\n        aria-labelledby=\"demo-positioned-button\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n    >\r\n        {\r\n            allLocales.map(l=><MenuItem\r\n                key={l.locale}\r\n                selected={l.locale === locale}\r\n                onClick={()=>setLocale(l.locale)}\r\n            >\r\n                <LanguageIcon style={{paddingRight:5}}/> {intl.formatMessage({ id: l.locale })}\r\n            </MenuItem>)\r\n        }\r\n    </Menu>\r\n        </>\r\n}","import {FormatSize} from \"@mui/icons-material\";\r\nimport {Box, IconButton, Menu} from \"@mui/material\";\r\nimport {useState} from \"react\";\r\nimport {useLocale} from \"base-shell/lib/providers/Locale\";\r\nimport FontsizeControl from \"../FontsizeControl\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {DECREASE_FONT_SIZE, INCREASE_FONT_SIZE} from \"../../reducer/actions/setting\";\r\n\r\n\r\nexport default function ({intl}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const { setLocale, locale = 'en' } = useLocale();\r\n    const open = Boolean(anchorEl);\r\n    const dispatch = useDispatch();\r\n    const changeFontSize = (isIncrease)=>{\r\n        if (isIncrease)\r\n            dispatch({ type: INCREASE_FONT_SIZE});\r\n        else\r\n            dispatch({ type: DECREASE_FONT_SIZE})\r\n    }\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return <>\r\n        <IconButton title={intl.formatMessage({id: 'Font size'})}\r\n                    onClick={handleClick}>\r\n            <FormatSize/>\r\n        </IconButton>\r\n        <Menu\r\n            id=\"font-size-menu\"\r\n            aria-labelledby=\"demo-positioned-button\"\r\n            anchorEl={anchorEl}\r\n            open={open}\r\n            onClose={handleClose}\r\n            anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left',\r\n            }}\r\n            transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'left',\r\n            }}\r\n        >\r\n            <Box sx={{paddingLeft:2,paddingRight:2}}>\r\n                <FontsizeControl title={intl.formatMessage({id: 'Font size'})} onChange={changeFontSize}/>\r\n            </Box>\r\n        </Menu>\r\n    </>\r\n}","import {Checkbox, IconButton, ListItemIcon, Menu, MenuItem} from \"@mui/material\";\r\nimport {Check, SpaceDashboard as SpaceDashboardIcon} from \"@mui/icons-material\";\r\nimport {useState} from \"react\";\r\nimport {useLocale} from \"base-shell/lib/providers/Locale\";\r\n\r\nexport default function ({intl,layoutItems,onChange}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return <><IconButton\r\n        title={intl.formatMessage({ id: 'Layout' })}\r\n        onClick={handleClick}\r\n    >\r\n        <SpaceDashboardIcon/>\r\n    </IconButton>\r\n    <Menu\r\n        id=\"layout-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n        }}\r\n    >\r\n        {\r\n            Object.keys(layoutItems).map(k=><MenuItem\r\n                key={k}\r\n                onClick={()=>onChange(k,layoutItems[k],!layoutItems[k].val)}\r\n            >\r\n                <ListItemIcon>\r\n                    <Checkbox checked={layoutItems[k].val} />\r\n                </ListItemIcon>{intl.formatMessage({ id: layoutItems[k].key })}\r\n            </MenuItem>)\r\n        }\r\n    </Menu>\r\n        </>\r\n}","import {Box, IconButton, Menu, MenuItem, Typography} from \"@mui/material\";\r\nimport {\r\n    Brightness4 as Brightness4Icon,\r\n    BrightnessHigh as BrightnessHighIcon,\r\n    FormatSize,\r\n    Help as HelpIcon, Language, Menu as MenuIcon\r\n} from \"@mui/icons-material\";\r\nimport SpaceDashboardIcon from \"@mui/icons-material/SpaceDashboard\";\r\nimport {useTheme as useAppTheme} from \"material-ui-shell/lib/providers/Theme\";\r\nimport {SET_MENU} from \"../../reducer/actions/setting\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useIntl} from \"react-intl\";\r\nimport LanguageMenu from \"./LanguageMenu\";\r\nimport FontSizeMenu from \"./FontSizeMenu\";\r\nimport LayoutMenu from \"./LayoutMenu\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function ({layoutItems,layoutItemsOnChange=()=>{}}){\r\n    const intl = useIntl();\r\n    const dispatch = useDispatch();\r\n    const { toggleThisTheme, isDarkMode } = useAppTheme()\r\n    const [anchorElNav, setAnchorElNav] = useState(null);\r\n    const [anchorElUser, setAnchorElUser] = useState(null);\r\n\r\n    const handleOpenNavMenu = (event) => {\r\n        setAnchorElNav(event.currentTarget);\r\n    };\r\n    const handleOpenUserMenu = (event) => {\r\n        setAnchorElUser(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseNavMenu = () => {\r\n        setAnchorElNav(null);\r\n    };\r\n\r\n    const handleCloseUserMenu = () => {\r\n        setAnchorElUser(null);\r\n    };\r\n    return <>\r\n        <img src={require('../../assets/logo.png')} loading=\"lazy\" style={{height:'auto',width:150}}></img>\r\n        <IconButton title={\"About us\"} size={\"small\"} sx={{transform:\"translate(-10px,10px)\"}}\r\n        onClick={()=>dispatch({ type: SET_MENU, opened: true })}>\r\n            <HelpIcon fontSize=\"inherit\"/>\r\n        </IconButton>\r\n        <Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}>\r\n            <IconButton\r\n                size=\"large\"\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"menu-appbar\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleOpenNavMenu}\r\n                color=\"inherit\"\r\n            >\r\n                <MenuIcon />\r\n            </IconButton>\r\n            <Menu\r\n                id=\"menu-appbar\"\r\n                anchorEl={anchorElNav}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                open={Boolean(anchorElNav)}\r\n                onClose={handleCloseNavMenu}\r\n                sx={{\r\n                    display: { xs: 'block', md: 'none' },\r\n                }}\r\n            >\r\n\r\n                <MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <IconButton\r\n                            title={\"Toggle theme\"}\r\n                            onClick={() => {\r\n                                toggleThisTheme('isDarkMode')\r\n                            }}\r\n                        >\r\n                            {isDarkMode ? (\r\n                                <BrightnessHighIcon/>\r\n                            ) : (\r\n                                <Brightness4Icon/>\r\n                            )}\r\n                        </IconButton>\r\n                        {isDarkMode ? (\r\n                            <>Light Mode</>\r\n                        ) : (\r\n                            <>Dark Mode</>\r\n                        )}\r\n                    </Typography>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <LayoutMenu intl={intl} layoutItems={layoutItems} onChange={layoutItemsOnChange}/>\r\n                        Layout\r\n                    </Typography>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <FontSizeMenu intl={intl}/>\r\n                        Font size\r\n                    </Typography>\r\n                </MenuItem><MenuItem onClick={handleCloseNavMenu}>\r\n                    <Typography textAlign=\"center\">\r\n                        <LanguageMenu intl={intl}/>\r\n                    </Typography>\r\n                </MenuItem>\r\n            </Menu>\r\n        </Box>\r\n        <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>\r\n            <IconButton\r\n                title={\"Toggle theme\"}\r\n                onClick={() => {\r\n                    toggleThisTheme('isDarkMode')\r\n                }}\r\n            >\r\n                {isDarkMode ? (\r\n                    <BrightnessHighIcon/>\r\n                ) : (\r\n                    <Brightness4Icon/>\r\n                )}\r\n            </IconButton>\r\n            {/*layoutItems*/}\r\n            <LayoutMenu intl={intl} layoutItems={layoutItems} onChange={layoutItemsOnChange}/>\r\n            <FontSizeMenu intl={intl}/>\r\n            <LanguageMenu intl={intl}/>\r\n        </Box>\r\n    </>\r\n}","import React, {useCallback, useEffect, useMemo, useRef, useState} from 'react';\r\nimport { useIntl } from 'react-intl';\r\nimport Page from \"../../containers/Page/Page\";\r\nimport {useDatabase} from \"../../Providers/Database\";\r\nimport {\r\n    Backdrop,\r\n    Box,\r\n    Unstable_Grid2 as Grid,\r\n    LinearProgress,\r\n    Paper,\r\n    Typography,\r\n    Card,\r\n    CardContent, Button, Stack, IconButton, Collapse\r\n} from \"@mui/material\";\r\nimport Earth3D from \"../../components/Earth\";\r\nimport AutoSizer from \"lp-react-virtualized-auto-sizer-react-18\";\r\n\r\nimport EventTable from \"../../components/EventTable/index\";\r\nimport { Responsive as ResponsiveGridLayout, WidthProvider } from \"react-grid-layout\";\r\nimport UndoRedo from \"../../containers/UndoRedo\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    setFilter,\r\n    setFilters,\r\n    selectFilters\r\n} from \"../../reducer/streamfilters\";\r\nimport {semicolor} from \"../../containers/LayoutContainer/theme\";\r\nimport {useQuestions} from \"material-ui-shell/lib/providers/Dialogs/Question\";\r\nimport {SET_MENU} from \"../../reducer/actions/setting\";\r\nimport MinimizeIcon from '@mui/icons-material/Minimize';\r\nimport EventDetail from \"../../components/EventDetail\";\r\nimport useQuery from \"../../Providers/Query\";\r\nimport * as FlexLayout from \"flexlayout-react\";\r\nimport \"./layout.css\";\r\nimport {AddCircle, Brightness4 as Brightness4Icon, BrightnessHigh as BrightnessHighIcon} from \"@mui/icons-material\";\r\nimport EventMap from \"../../components/EventMap\";\r\nimport Search from \"../../components/Search\";\r\nimport MediaDetail from \"../../components/MediaDetail\";\r\nimport AppHeader from \"../../components/AppHeader\";\r\nimport {actionCreators} from \"../../reducer/actions/selectedList\";\r\nimport {fields, fieldsWithoutSelected} from \"../../components/EventTable/fields\";\r\n\r\n\r\n\r\nconst LandingPage = () => {\r\n    // const ResponsiveGridLayout = useMemo(()=>WidthProvider(Responsive),[]);\r\n    const dispatch = useDispatch();\r\n    const intl = useIntl();\r\n    // const {openDialog,closeDialog, setProcessing} = useQuestions()\r\n    const filters = useSelector(selectFilters);\r\n    // const { appConfig } = useConfig()\r\n    const {getList,isLoading,getEvents,requestEvents,requestDetail,getDetail,setFuncCollection} = useDatabase();\r\n    const [zoomLoc,setZoomLoc] = useState();\r\n    const [layoutItems,setLayoutItems] = useState({\r\n        Earth:{key:\"Earth View\",val:true},\r\n        eventList:{key:\"Song List\",val:true},\r\n        eventDetail:{key:\"Song Details\",val:true},\r\n        eventMap:{key:\"Song List Map\",val:true},\r\n        mediaDetail:{key:\"Listen\",val:true},\r\n        eventSelectedList:{key:\"Selected Songs\",val:false},\r\n        eventSelectedListDetail:{key:\"Song List Details\",val:false},\r\n    });\r\n    const toolbarRef = useRef(null);\r\n    const layoutRef = useRef(null);\r\n    const currentDetail = getDetail();\r\n    const eventTotalData = useSelector(state => state.seletedList.currentList);\r\n    const eventSelectedData = useSelector(state => Array.from(state.seletedList.items.values( ) ));\r\n    const query = useQuery();\r\n    useEffect(()=>{\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition((position)=>{\r\n                setZoomLoc({lng:position.coords.longitude,lat:position.coords.latitude})\r\n            }, ()=>{});\r\n        }\r\n        dispatch({ type: SET_MENU, opened: true });\r\n    },[]);\r\n\r\n    useEffect(()=>{\r\n        if(currentDetail)\r\n            setZoomLoc({lng:currentDetail.long,lat:currentDetail.lat})\r\n    },[currentDetail])\r\n\r\n\r\n\r\n    const isLoadingInit = isLoading('rawData');\r\n    const isLoadingEvent = isLoading('events');\r\n    const isLoadingLocs = isLoading('locs');\r\n    useEffect(()=>{\r\n        if (!isLoadingInit) {\r\n            requestEvents(filters, 1000)\r\n        }\r\n    },[isLoadingInit,filters])\r\n    const onSelectStream = useCallback((data)=>{\r\n        requestDetail(data);\r\n    },[getEvents])\r\n\r\n    const onSelect = useCallback((value,extra)=>{\r\n        if (extra)\r\n            setZoomLoc({lng:extra.long,lat:extra.lat})\r\n        dispatch(setFilters({value}));\r\n    },[]);\r\n\r\n    // const onTogleWin = useCallback((key)=>{\r\n    //     setLayoutItems({...layoutItems,[key]:!layoutItems[key]});\r\n    // },[layoutItems])\r\n\r\n    // const generateLayout = (k)=>{\r\n    //     switch (k){\r\n    //         case 'eventList':\r\n    //             return <EventTable data={getEvents()}\r\n    //                                isLoadingData={isLoadingEvent}\r\n    //                                onSelectRow={onSelectStream}\r\n    //                                highlightId={currentDetail}\r\n    //                                onTogleWin={()=>onTogleWin(\"eventList\")}\r\n    //             />\r\n    //         case 'eventDetail':\r\n    //             return <EventDetail currentDetail={currentDetail} onSelect={onSelect}\r\n    //                                 events={getEvents()}\r\n    //                                 locs={getList('locs')}\r\n    //                                 sx={{height:'100%',position:'relative'}}\r\n    //                                 onTogleWin={()=>onTogleWin(\"eventDetail\")}\r\n    //             />\r\n    //         default:\r\n    //             return ''\r\n    //     }\r\n    // }\r\n\r\n    const [layouts,setLayouts] = useState(()=>FlexLayout.Model.fromJson({\r\n        global: {\r\n            // \"splitterSize\": 1,\r\n            // \"splitterExtra\": 4,\r\n            \"tabEnableFloat\": true,\r\n            \"tabSetMinWidth\": 100,\r\n            \"tabSetMinHeight\": 100,\r\n            \"borderMinSize\": 100\r\n        },\r\n        borders:[\r\n            {\r\n                \"type\": \"border\",\r\n                \"location\":\"top\",\r\n                \"size\": 400,\r\n                \"active\": true,\r\n                \"children\": [\r\n                ]\r\n            },\r\n            {\r\n                \"type\": \"border\",\r\n                \"location\":\"left\",\r\n                \"size\": 500,\r\n                \"children\": [\r\n                    {\r\n                        \"type\": \"tab\",\r\n                        \"name\": \"Earth View\",\r\n                        enableClose: false,\r\n                        \"component\": \"Earth\"\r\n                    }\r\n                ],\r\n                \"selected\": 0,\r\n            }\r\n        ],\r\n        layout: {\r\n            type: \"row\",\r\n            weight: 100,\r\n            children: [\r\n                {\"type\": \"row\",\r\n                    children: [\r\n                        {\r\n                            type: \"tabset\",\r\n                            weight: 50,\r\n                            children: [\r\n                                {\r\n                                    type: \"tab\",\r\n                                    name: \"Song List\",\r\n                                    component: \"eventList\",\r\n                                },\r\n                                {\r\n                                    type: \"tab\",\r\n                                    name: \"Selected Songs\",\r\n                                    component: \"eventSelectedList\",\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            type: \"tabset\",\r\n                            weight: 50,\r\n                            children: [\r\n                                {\r\n                                    type: \"tab\",\r\n                                    name: \"Song List Map\",\r\n                                    component: \"eventMap\",\r\n                                },{\r\n                                    type: \"tab\",\r\n                                    name: \"Song Detail\",\r\n                                    component: \"eventDetail\",\r\n                                },{\r\n                                    type: \"tab\",\r\n                                    name: \"Listen\",\r\n                                    component: \"mediaDetail\",\r\n                                }\r\n                            ]\r\n                        }\r\n                        ]\r\n                }\r\n            ]\r\n        }\r\n    }));\r\n\r\n    useEffect(()=>{\r\n        dispatch(actionCreators.newList(getEvents()));\r\n    },[getEvents()])\r\n\r\n    const factory = (node) => {\r\n        let component = node.getComponent();\r\n        switch (component){\r\n            case 'eventList':\r\n                return <EventTable id='eventListTable'\r\n                                   data={eventTotalData??[]}\r\n                                   columns={fields}\r\n                                   isLoadingData={isLoadingEvent}\r\n                                   onSelectRow={onSelectStream}\r\n                                   highlightId={currentDetail}\r\n                                   totalData={eventTotalData}\r\n                                   selectedData={eventSelectedData}\r\n                                   onSendToList={(l)=>dispatch(actionCreators.addsToBasket(l))}\r\n                                   onRemoveFromList={(l)=>dispatch(actionCreators.removeItems(l))}\r\n                                   // onTogleWin={()=>onTogleWin(\"eventList\")}\r\n                />;\r\n            case 'eventSelectedList':\r\n                return <EventTable id='eventSelectedListTable'\r\n                                   data={eventSelectedData}\r\n                                   columns={fieldsWithoutSelected}\r\n                                   isLoadingData={isLoadingEvent}\r\n                                   onSelectRow={onSelectStream}\r\n                                   highlightId={currentDetail}\r\n                                   totalData={eventTotalData}\r\n                                   selectedData={eventSelectedData}\r\n                                   disableAdding={true}\r\n                                   onSendToList={(l)=>dispatch(actionCreators.addsToBasket(l))}\r\n                                   onRemoveFromList={(l)=>dispatch(actionCreators.removeItems(l))}\r\n                                   // onTogleWin={()=>onTogleWin(\"eventList\")}\r\n                />\r\n            case 'eventMap':\r\n                return <EventMap\r\n                    currentDetail={currentDetail}\r\n                    events={getEvents()}\r\n                    locs={getList('locs')}\r\n                />\r\n            case 'eventDetail':\r\n                return <EventDetail currentDetail={currentDetail} onSelect={onSelect}\r\n                                    events={getEvents()}\r\n                                    locs={getList('locs')}\r\n                                    sx={{height:'100%',position:'relative'}}\r\n                                    // onTogleWin={()=>onTogleWin(\"eventDetail\")}\r\n                />\r\n            case 'mediaDetail':\r\n                return <MediaDetail currentDetail={currentDetail} onSelect={onSelect}\r\n                                    events={getEvents()}\r\n                                    locs={getList('locs')}\r\n                                    sx={{height:'100%',position:'relative'}}\r\n                    // onTogleWin={()=>onTogleWin(\"eventDetail\")}\r\n                />\r\n            case 'Earth':\r\n                return <AutoSizer style={{ height: '100%', width: '100%' }} >\r\n                    {({ height, width }) => {\r\n                        return <Earth3D locs={getList('locs')}\r\n                                        countries={getList('countries')}\r\n                                        onSelect={onSelect}\r\n                                        onSelectLegend={setFuncCollection}\r\n                                        width={width} height={height}\r\n                                        toolbarRef={toolbarRef}\r\n                                        zoomLoc={zoomLoc}\r\n                        />\r\n                    }}\r\n                </AutoSizer>\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n    // const onRenderTabSet = (tabSetNode, renderValues) =>{\r\n    //     // debugger\r\n    //     if (!Object.keys(layoutItems).reduce((pre,k)=>pre && (layoutItems[k].val),true)) {\r\n    //         renderValues.stickyButtons.push(<AddCircle\r\n    //             color={'primary'}\r\n    //             title= \"Add\"\r\n    //             key= \"Add button\"\r\n    //             className={\"flexlayout__tab_toolbar_button\"}\r\n    //             style={{width: \"1.1em\", height: \"1.1em\"}}\r\n    //         />)\r\n    //         // renderValues.stickyButtons.push(React.createElement(\"img\", {\r\n    //         //     src: \"images/add.svg\",\r\n    //         //     alt: \"Add\",\r\n    //         //     key: \"Add button\",\r\n    //         //     title: \"Add Tab (using onRenderTabSet callback, see Demo)\",\r\n    //         //     style: {width: \"1.1em\", height: \"1.1em\"},\r\n    //         //     className: \"flexlayout__tab_toolbar_button\",\r\n    //         //     // onClick: function () { return _this.onAddFromTabSetButton(node); }\r\n    //         // }));\r\n    //     }\r\n    // }\r\n    const layoutItemsOnChange = useCallback((key,item,isOn)=>{\r\n        debugger\r\n        if (layoutRef.current)\r\n        {\r\n            if (isOn)\r\n                layoutRef.current.addTabToActiveTabSet({\r\n                    name: item.key,\r\n                    component: key,\r\n                });\r\n            else{\r\n                // layouts\r\n                // find id\r\n                const current = Object.keys(layouts._idMap).find(k=>layouts._idMap[k]._attributes.component===key)\r\n                if (current)\r\n                    layouts.doAction(FlexLayout.Actions.deleteTab(current))\r\n            }\r\n            layoutItems[key].val = isOn;\r\n            setLayoutItems({...layoutItems});\r\n        }\r\n    },[layoutRef,layouts])\r\n    return (<Page\r\n            appBarLeftContent={<AppHeader layoutItems={layoutItems} layoutItemsOnChange={layoutItemsOnChange}/>}\r\n            appBarContent={<>\r\n            <Search/>\r\n            <div ref={toolbarRef}></div>\r\n            <UndoRedo/>\r\n        </>\r\n    }>\r\n            {/*<div style={{position:'absolute',top:0,left:0, zIndex:0, height: '100%', width: '100%', overflow:'hidden'}}>*/}\r\n            {/*    <AutoSizer style={{ height: 'calc(100vh - 64px)', width: '100%' }} >*/}\r\n            {/*        {({ height, width }) => {*/}\r\n            {/*            return <Earth3D locs={getList('locs')}*/}\r\n            {/*                            countries={getList('countries')}*/}\r\n            {/*                            onSelect={onSelect}*/}\r\n            {/*                            onSelectLegend={setFuncCollection}*/}\r\n            {/*                            width={width} height={height}*/}\r\n            {/*                            toolbarRef={toolbarRef}*/}\r\n            {/*                            zoomLoc={zoomLoc}*/}\r\n            {/*            />*/}\r\n            {/*        }}*/}\r\n            {/*    </AutoSizer>*/}\r\n            {/*</div>*/}\r\n        <div style={{height: '100%', position:'relative', pointerEvents:'all', overflow:'hidden'}}>\r\n            <FlexLayout.Layout model={layouts}\r\n                               ref={layoutRef}\r\n                               factory={factory}\r\n                               // onRenderTabSet={onRenderTabSet}\r\n                               popoutURL=\"#/popout\"\r\n                               realtimeResize={false}\r\n                               onModelChange={(m)=>{\r\n                                   // check tab\r\n                                   Object.keys(layoutItems).forEach(k=>layoutItems[k].val=false);\r\n                                   // m._root._children.forEach(m=>m._children.forEach(m=> {\r\n                                   //     if (m._attributes.component&&layoutItems[m._attributes.component])\r\n                                   //         layoutItems[m._attributes.component].val = true\r\n                                   //     else\r\n                                   //          m._children.forEach(m => layoutItems[m._attributes.component]?(layoutItems[m._attributes.component].val = true):'')\r\n                                   // }));\r\n                                   // m._borders._borders.forEach(m=>m._children.forEach(m=>layoutItems[m._attributes.component].val=true));\r\n                                   Object.values(m._idMap).forEach(m=> {\r\n                                       if (m._attributes.component&&layoutItems[m._attributes.component])\r\n                                           layoutItems[m._attributes.component].val = true\r\n                                   })\r\n                                   setLayoutItems(layoutItems)\r\n                                   setLayouts(m)\r\n                               }}\r\n            />\r\n\r\n            {/*<AutoSizer style={{ minHeight: '100%', width: '100%', position:'relative' }} >*/}\r\n            {/*    {({ height, width }) => {*/}\r\n            {/*        return <ResponsiveGridLayout className=\"layout\" cols={{ lg: 12, md: 10, sm: 6, xs: 4, xxs: 2 }}*/}\r\n            {/*                      layouts={layouts}*/}\r\n            {/*                     onBreakpointChange={onBreakpointChange}*/}\r\n            {/*                     onLayoutChange={onLayoutChange}*/}\r\n            {/*                      preventCollision={true}*/}\r\n            {/*                      compactType={null}*/}\r\n            {/*                      breakpoints={{ lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0 }}*/}\r\n            {/*                     margin={{ lg: [10,10], md: [10,10], sm: [10,10], xs: [10,10], xxs: [10,10] }}*/}\r\n            {/*                         width={width}*/}\r\n            {/*                         rowHeight={(height-20)/10 -10}*/}\r\n            {/*                         height={height}*/}\r\n            {/*                      style={{position:'relative',height:height, pointerEvents:'all'}} >*/}\r\n            {/*            {*/}\r\n            {/*                Object.keys(layoutItems).map(k=>layoutItems[k]?<div key={k} style={{pointerEvents:'all'}}>*/}\r\n            {/*                    {generateLayout(k)}*/}\r\n            {/*                </div>:'')*/}\r\n            {/*            }*/}\r\n            {/*</ResponsiveGridLayout>}}*/}\r\n            {/*</AutoSizer>*/}\r\n        </div>\r\n        <Backdrop\r\n            sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n            open={(isLoadingInit||isLoadingLocs)}\r\n        >\r\n            <Box sx={{ display: 'flex', alignItems: 'center', width:'50%', flexDirection: \"column\", textAlign:'center' }}>\r\n                <Box sx={{ width: '100%' }}>\r\n                    <LinearProgress variant=\"determinate\" value={(isLoadingInit)?40:((isLoadingLocs)?90:100)} />\r\n                </Box>\r\n                <Box sx={{ width: '100%' }}>\r\n                    <h2>{(isLoadingInit)?'Read data....':((isLoadingLocs)?'Process data...':'Done!')}</h2>\r\n                </Box>\r\n            </Box>\r\n        </Backdrop>\r\n    </Page>\r\n    )\r\n}\r\n\r\nexport default LandingPage;","import {useLocation} from \"react-router-dom\";\r\nimport {useDatabase} from \"../Database\";\r\nimport {useMemo} from \"react\";\r\n\r\nexport default function useQuery() {\r\n    const { search } = useLocation();\r\n    const {requestDetail} = useDatabase();\r\n    return useMemo(() => {\r\n        const queryObject = new URLSearchParams(search);\r\n        if (queryObject.get(\"id\")) {\r\n            requestDetail({_id: queryObject.get(\"id\")});\r\n            return queryObject;\r\n        }\r\n    }, [search]);\r\n}"],"names":["Transition","React","props","ref","_jsx","Slide","_objectSpread","direction","BootstrapDialogTitle","children","onClose","other","_objectWithoutProperties","_excluded","_jsxs","DialogTitle","sx","m","p","IconButton","onClick","position","right","top","color","theme","palette","grey","CloseIcon","_ref","_ref$isProcessing","isProcessing","_ref$isOpen","isOpen","_ref$message","id","message","_ref$title","title","_ref$action","action","_ref$haveButton","haveButton","_ref$handleAction","handleAction","_ref$handleClose","handleClose","rest","_excluded2","intl","useIntl","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","open","TransitionComponent","DialogContent","DialogContentText","DialogActions","Button","formatMessage","defaultMessage","disabled","exportAsImage","_asyncToGenerator","_regeneratorRuntime","mark","_callee","el","imageFileName","renderer","scene","camera","blob","wrap","_context","prev","next","render","domElement","toDataURL","downloadImage","stop","_x","_x2","apply","arguments","fileName","fakeLink","window","document","createElement","style","download","href","body","appendChild","click","removeChild","remove","TOP","colorArr","arcThickScale","d3","range","labelScale","countriesScale","Earth3D","forwardRef","locs","countries","width","height","onSelect","onSelectLegend","zoomLoc","globeEl","toolbarRef","useRef","holderRef","_useState","useState","_useState2","_slicedToArray","colorKey","_useState3","_useState4","selectPoint","setSelectPoint","_useState5","_useState6","currentSequnce","setCurrentSequnce","_useState7","lat","lng","altitude","_useState8","MAP_CENTERs","setMAP_CENTERs","_useState9","_useState10","ringData","setRingData","_useState11","_useState12","setcontriesMap","colorsCategory","useMemo","otherColor","length","undefined","scale","master","val","trim","domain","find","d","handleData","_ref2","contriesMap","count","forEach","order","i","long","useEffect","_handleData","_useState13","_useState14","timer","setTimer","current","interval","setTimeout","pointOfView","clearInterval","stopPlay","useCallback","_useState15","_useState16","timerRing","setTimerRing","zoomTo","onSaveImage","country","zoomIn","loc","zoomOut","background","Globe","globeImageUrl","mode","earthNight","earthDay","backgroundColor","showAtmosphere","ringsData","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod","labelsData","labelLat","labelLng","labelAltitude","labelText","labelSize","labelDotRadius","labelColor","_d$color","labelResolution","hexBinPointsData","hexBinPointWeight","hexBinPointLng","hexBinPointLat","hexAltitude","sumWeight","hexBinResolution","hexTopColor","points","hexSideColor","hexBinMerge","onHexHover","hex","hexLabel","concat","s","slice","sort","a","b","map","join","onHexClick","_d$points$","city","push","onGlobeClick","ButtonGroup","orientation","variant","margin","padding","SaveIcon","AddIcon","RemoveIcon","fields","header","accessorKey","Cell","renderedCellValue","row","Checkbox","icon","EventOutIcon","checkedIcon","EventIcon","checked","original","inBasket","dynamic","fieldsWithoutSelected","filter","filterSearch","f","filterDisable","role","itemCount","Array","isArray","viewboxRef","ViewportList","viewportRef","items","Type","type","_createElement","key","defaultFilterOptions","createFilterOptions","filterOptionsFunc","options","state","FilterPanel","filters","useSelector","selectFilters","dispatch","useDispatch","filterOptions","setFilterOptions","_useDatabase","useDatabase","isLoading","searchByStream","getList","Stack","spacing","_filters$f$accessorKe","CusAutocomplete","multiple","size","limitTags","ListboxComponent","freeSolo","loading","getOptionLabel","value","onChange","event","setFilter","onInputChange","newInputValue","renderInput","params","TextField","label","_ref2$onInputChange","_React$useState","_React$useState2","input","setInput","Autocomplete","inputValue","newValue","reason","onBlur","FontsizeControl","alignItems","justifyContent","semicolor","_color","d3color","opacity","toString","ts","isDarkMode","isRTL","fontSize","_source","source","Function","createTheme","pageTitle","_ref$appBarLeftConten","appBarLeftContent","onBackClick","_ref$appBarContent","appBarContent","contentStyle","_ref$tabs","tabs","useAppTheme","isOnline","useOnline","_ref3","useConfig","appConfig","menu","_ref3$appBarLeadingCo","appBarLeadingContent","headerTitle","String","display","flexDirection","overflow","AppBar","zIndex","transition","transitions","create","easing","sharp","duration","leavingScreen","maxHeight","marginLeft","marginRight","backgroundImage","boxShadow","Toolbar","t","default","primary","dark","ChevronLeft","Typography","noWrap","flex","minHeight","LinearProgress","secondary","main","_ref$onDownloadSearch","onDownloadSearchList","_ref$onDownloadSelect","onDownloadSelectedList","anchorEl","setAnchorEl","Boolean","_Fragment","target","startIcon","currentTarget","endIcon","KeyboardArrowDownIcon","Menu","MenuItem","process","_ref$id","columns","data","totalData","selectedData","disableAdding","isLoadingData","onSelectRow","highlightId","onSendToList","onRemoveFromList","rowSelection","setRowSelection","rowVirtualizerInstanceRef","setIsLoading","sorting","setSorting","getDownloadData","_rowVirtualizerInstan","_rowVirtualizerInstan2","scrollToIndex","call","error","console","handleExportRows","rows","then","datadownload","csvOptions","fieldSeparator","quoteStrings","decimalSeparator","showLabels","filename","Date","toDateString","useBom","useKeysAsHeaders","ExportToCsv","generateCsv","catch","e","MaterialReactTable","enableGlobalFilterModes","enableDensityToggle","enablePagination","enableRowSelection","enableRowVirtualization","muiTablePaperProps","initialState","density","onSortingChange","onRowSelectionChange","rowVirtualizerProps","overscan","muiTableBodyRowProps","cursor","_id","enableColumnResizing","enableFullScreenToggle","defaultColumn","minSize","maxSize","positionToolbarAlertBanner","renderTopToolbarCustomActions","table","Box","gap","flexWrap","DownloadOption","renderBottomToolbar","_ref4","handleSelected","getSelectedRowModel","flatRows","handleRemoveSelected","Object","keys","flexGrow","MRT_ToolbarAlertBanner","stackAlertBanner","Tooltip","AddEventIcon","RemoveEventIcon","UndoRedo","canUndo","canRedo","onUndo","onRedo","UndoIcon","RedoIcon","mapDispatchToProps","UndoActionCreators","undo","redo","connect","streamFilters","past","future","PaperCustom","styled","Paper","borderRadius","shortest","expand","ExpandMoreIcon","transform","_data$stream_name","_data$broadcast_frequ","_data$stream_artist_c","timeStation","moment","time_station","format","stream_name","component","station","broadcast_frequency","station_description","Link","station_url","MapIcon","url","stream_url","stream_description","stream_genre","Chip","elevation","Grid","container","item","xs","gutterBottom","stream_song","year_released","stream_song_genre","Avatar","src","stream_artist_image_url","mr","stream_artist","stream_artist_country","stream_artist_genre","stream_instrument_list","split","stream_lyrics","Divider","mt","mb","stream_lyrics_language","currentDetail","bgcolor","paper","contrastText","DetailCard","scaleLinear","zoomi","d3range","Map","highlight","setData","center","lon","zoom","setDomain","_botColor","extent","text","ticks","tsize","tickS","mapbox","name","x","y","marker","visible","hoverinfo","showlegend","line","_toConsumableArray","longd","latd","Math","min","_highlight","city_id","layout","paper_bgcolor","plot_bgcolor","autoscale","r","l","mapboxTick","font","family","typography","fontFamily","legend","showticksuffix","xanchor","Plot","config","showEditInChartStudio","plotlyServerURL","events","eventlocs","setEventlocs","_locsMap","_locs","groups","_locsMap$c","_locsMap$c2","_locsMap$c3","c","cou","AutoSizer","setIsOpen","_defineProperty","shape","borderColor","alpha","common","white","borderStyle","textTransform","paddingLeft","paddingRight","up","SearchIcon","fullWidth","maxWidth","scroll","spotify_uri","youtube_url","replace","frameBorder","allow","allowFullScreen","ListenCard","_useLocale","useLocale","setLocale","_useLocale$locale","locale","LanguageIcon","anchorOrigin","vertical","horizontal","transformOrigin","allLocales","selected","FormatSize","isIncrease","INCREASE_FONT_SIZE","DECREASE_FONT_SIZE","layoutItems","SpaceDashboardIcon","k","ListItemIcon","_ref$layoutItemsOnCha","layoutItemsOnChange","_useAppTheme","toggleThisTheme","anchorElNav","setAnchorElNav","handleCloseNavMenu","require","SET_MENU","opened","HelpIcon","md","MenuIcon","keepMounted","textAlign","BrightnessHighIcon","Brightness4Icon","LayoutMenu","FontSizeMenu","LanguageMenu","getEvents","requestEvents","requestDetail","getDetail","setFuncCollection","setZoomLoc","Earth","eventList","eventDetail","eventMap","mediaDetail","eventSelectedList","eventSelectedListDetail","setLayoutItems","layoutRef","eventTotalData","seletedList","currentList","eventSelectedData","from","values","search","useLocation","queryObject","URLSearchParams","get","useQuery","navigator","geolocation","getCurrentPosition","coords","longitude","latitude","isLoadingInit","isLoadingEvent","isLoadingLocs","onSelectStream","extra","setFilters","FlexLayout","fromJson","global","borders","enableClose","weight","layouts","setLayouts","actionCreators","newList","isOn","addTabToActiveTabSet","_idMap","_attributes","doAction","deleteTab","Page","AppHeader","Search","pointerEvents","model","factory","node","getComponent","EventTable","addsToBasket","removeItems","EventMap","EventDetail","MediaDetail","popoutURL","realtimeResize","onModelChange","Backdrop","drawer"],"sourceRoot":""}